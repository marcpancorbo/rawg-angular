import{a as H}from"./chunk-YHBS67GD.js";import{a as I,b as D,c as f,d as N,e as P,g as $,h as L,i as V,m as G,o as R,p as h}from"./chunk-RT3USW4Q.js";import{$ as d,A as v,C as M,I as b,J as S,La as u,R as c,Ra as O,S as s,Sa as U,Ta as g,X as A,_ as p,c as w,ca as r,da as o,ea as l,ha as T,ka as m,l as y,na as _,oa as F,p as C,s as k,t as E,x as j}from"./chunk-HJHVUKEA.js";var q=(()=>{let e=class e{constructor(i,n){this.authService=i,this.router=n}canActivate(i,n){return this.authService.$user()?this.router.parseUrl("/user"):!0}};e.\u0275fac=function(n){return new(n||e)(v(g),v(u))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Q(t,e){t&1&&(r(0,"span",22),m(1,"Invalid email"),o())}function W(t,e){t&1&&(r(0,"span",22),m(1,"Password is required"),o())}function X(t,e){t&1&&l(0,"app-spinner",23)}var z=(()=>{let e=class e{constructor(i,n,a,x,B){this.fb=i,this.destroy$=n,this.authService=a,this.router=x,this.storageService=B,this.submitClicked$=new w,this.$loading=this.authService.$loading}ngOnInit(){this.initForm(),this.subscribeToSubmit()}initForm(){this.form=this.fb.group({email:["test@test.com",[f.required,f.email]],password:["123456",[f.required]],remember:[!1]})}subscribeToSubmit(){this.submitClicked$.pipe(k(this.destroy$)).pipe(E(()=>{this.form.invalid&&Object.values(this.form.controls).forEach(i=>{i.invalid&&(i.markAsDirty(),i.updateValueAndValidity({onlySelf:!0}))})}),y(()=>this.form.valid),C(()=>this.authService.login(this.form.value))).subscribe(i=>{this.storageService.set(O,JSON.stringify(i),this.form.value.remember?localStorage:sessionStorage),this.router.navigate(["/"])})}};e.\u0275fac=function(n){return new(n||e)(s(G),s(h),s(g),s(u),s(U))},e.\u0275cmp=M({type:e,selectors:[["app-login-page"]],standalone:!0,features:[_([h]),F],decls:32,vars:4,consts:[[1,"flex","items-center","justify-center","h-[500px]"],[1,"flex","flex-col","items-center","gap-5","justify-center",3,"formGroup","ngSubmit"],[1,"text-5xl","md:text-7xl","text-white","font-bold"],[1,"form-group","w-full"],[1,"relative"],[1,"absolute","inset-y-0","start-0","flex","items-center","ps-3","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","text-white"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0"],["d","M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"],["type","email","autocomplete","off","id","default-search","placeholder","Email","formControlName","email",1,"block","w-full","p-3","ps-10","text-sm","outline-none","text-white","bg-[#3b3b3b]"],["class","text-sm text-red-600"],["d","M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z"],["d","M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0"],["d","M8 11v-4a4 4 0 1 1 8 0v4"],["type","password","autocomplete","off","id","default-search","placeholder","Password","formControlName","password",1,"block","w-full","p-3","ps-10","text-sm","outline-none","text-white","bg-[#3b3b3b]"],[1,"w-full","relative","gap-5"],[1,"p-3","flex","gap-5","w-full","justify-between","bg-[#3b3b3b]","text-white","hover:bg-white","text-center","hover:text-[#3b3b3b]","transition-colors","duration-300"],["class","absolute top-2 right-5"],[1,"flex","items-center","mb-4","w-full"],["id","default-checkbox","type","checkbox","formControlName","remember",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","dark:focus:ring-blue-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600"],["for","default-checkbox",1,"ms-2","text-sm","font-medium","text-white"],[1,"text-sm","text-red-600"],[1,"absolute","top-2","right-5"]],template:function(n,a){n&1&&(r(0,"section",0)(1,"form",1),T("ngSubmit",function(){return a.submitClicked$.next()}),r(2,"h1",2),m(3,"Log in"),o(),r(4,"div",3)(5,"div",4)(6,"div",5),b(),r(7,"svg",6),l(8,"path",7)(9,"path",8)(10,"path",9),o()(),S(),l(11,"input",10),o(),p(12,Q,2,0,"span",11),o(),r(13,"div",3)(14,"div",4)(15,"div",5),b(),r(16,"svg",6),l(17,"path",7)(18,"path",12)(19,"path",13)(20,"path",14),o()(),S(),l(21,"input",15),o(),p(22,W,2,0,"span",11),o(),r(23,"div",16)(24,"button",17)(25,"span"),m(26,"Submit"),o()(),p(27,X,1,0,"app-spinner",18),o(),r(28,"div",19),l(29,"input",20),r(30,"label",21),m(31,"Remember me"),o()()()()),n&2&&(c(1),A("formGroup",a.form),c(11),d(12,a.form.controls.email.invalid&&(a.form.controls.email.dirty||a.form.controls.email.touched)?12:-1),c(10),d(22,a.form.controls.email.invalid&&(a.form.controls.email.dirty||a.form.controls.email.touched)?22:-1),c(5),d(27,a.$loading()?27:-1))},dependencies:[R,$,D,I,N,P,L,V,H],styles:[".form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}"],changeDetection:0});let t=e;return t})();var pe=[{path:"",canActivate:[q],component:z}];export{pe as AUTH_ROUTES};
